(window.webpackJsonpoerwi=window.webpackJsonpoerwi||[]).push([[0],{47:function(e,t,a){e.exports=a(65)},52:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),s=a(21),i=a.n(s),r=a(26),o=a(12),c=a(13),m=a(16),d=a(14),u=a(4),h=a(17),p=(a(52),a(15)),b=a(18),g=a(8),f=a(23),v=a(10),E=a(22),k=a.n(E),y=a(20),N=a(29),O=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("div",{className:"container"},"item"===this.props.type?l.a.createElement(y.a,{onSubmit:this.props.handleAddItem,className:"row",id:"addNewItemForm"},l.a.createElement(y.b,{type:"hidden",name:"id",value:this.props.listId}),l.a.createElement(y.b,{className:"form-control form-control-lg",name:"name",placeholder:"new item"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg"},l.a.createElement(N.a,null),l.a.createElement("span",{className:"ml-2"},"add"))):l.a.createElement(y.a,{onSubmit:this.props.handleAddList,className:"row",id:"addNewListForm"},l.a.createElement(y.b,{className:"form-control form-control-lg",name:"name",placeholder:"new list"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},l.a.createElement(N.a,null),l.a.createElement("span",{className:"ml-2"},"add")))))}}]),t}(l.a.Component),j=a(25),C=a.n(j),w=function(){return l.a.createElement("div",{className:"row errorContainer"},l.a.createElement("img",{className:"img-fluid",src:"/404.jpg",alt:"lost"}),l.a.createElement("h1",null,"404"),l.a.createElement("h2",null,"Not Found"),l.a.createElement(p.b,{to:"/",className:"btn btn-primary btn-block"},"Go Home"))};var I=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;if("undefined"===typeof this.props.item)return l.a.createElement(w,null);var t=this.props.item.color||Object(v.randomColor)(),a={backgroundColor:k()(t,.2)},n=this.props.itemKey,s=this.props.item.locked,i=s?"danger":"link",r=0;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 listHeadline",style:a},l.a.createElement("h4",null,l.a.createElement(p.b,{to:"/"},l.a.createElement(g.b,{size:"28px"})),l.a.createElement("span",{className:"ml-2"},this.props.item.name)),l.a.createElement("div",{className:"actions"},l.a.createElement("button",{type:"button",className:"btn btn-".concat(i),onClick:function(){e.props.toggleLockedList(n)}},s?l.a.createElement(g.f,{size:"24px"}):l.a.createElement(g.d,{size:"24px"})))),0===this.props.item.items.length?function(e){var t=C()().format("H:m a");return l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"tutorial-card"},l.a.createElement("p",null,"hey, again",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},t))),l.a.createElement("p",null,"now it's time to add new items for ",e.name," ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},t))),l.a.createElement("p",null,"after you you added new items, you can click on them to count them up ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},t))),l.a.createElement("p",null,"happy counting! \u2665 ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},t)))))}(this.props.item):null,l.a.createElement("div",{className:"ticks col-12"},this.props.item.items.map(function(t,a){var i=t.color||Object(v.randomColor)(),o={backgroundColor:k()(i,.2)},c={display:t.menuOpened||!1?"block":"none"},m={values:s?12:10};return r+=t.ticks,l.a.createElement("div",{key:a,className:"row tickItem",style:o},l.a.createElement("div",{className:"col-".concat(m.values," tickItemButton"),onClick:function(l){e.props.handleTickUp({item:t,id:a,list:n})}},l.a.createElement("span",{className:"itemName"},t.name),l.a.createElement("span",{className:"itemCount"},t.ticks)),s?null:l.a.createElement("div",{className:"col-2 d-flex align-items-center justify-content-around menu-separator",onClick:function(t){e.props.toggleItemMenu(n,a)}},l.a.createElement("button",{type:"button",className:"btn btn-link btn-lg actionLink"},l.a.createElement(g.e,{size:"32px"}))),s?null:l.a.createElement("div",{className:"col-12",style:c},l.a.createElement("div",{className:"row justify-content-between align-items-center listMenu"},l.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){e.props.handleChangeItem(n,a)}},l.a.createElement(g.c,null),l.a.createElement("span",null,"edit name")),l.a.createElement("button",{className:"btn btn-secondary btn-lg",onClick:function(){e.props.handleChangeItemValue(n,a)}},l.a.createElement(g.c,null),l.a.createElement("span",null,"edit value")),l.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:function(){e.props.handleRemoveItem(n,a)}},l.a.createElement(f.b,null),l.a.createElement("span",null,"remove")))))}),r>0?l.a.createElement("div",{className:"row totals"},l.a.createElement("div",{className:"col-6 text-left totalCaption"},"Total"),l.a.createElement("div",{className:"col-4 text-right totalTicks"},r)):null),l.a.createElement(O,{type:"item",listId:n,handleAddList:this.props.handleAddList,handleAddItem:this.props.handleAddItem}))}}]),t}(l.a.Component);var L=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},0===Object.entries(this.props.lists).length?function(){var e=C()().format("H:m a");return l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"tutorial-card"},l.a.createElement("p",null,"hey, ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},e))),l.a.createElement("p",null,"to start with your first list, just enter the name into the field on the bottom ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},e))),l.a.createElement("p",null,"after you created your first list, you can enter it by clicking on it ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},e))),l.a.createElement("p",null,"much love, oerwi \u2665 ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},e)))))}():null,l.a.createElement("div",{className:"col-12 listContainer"},Object.entries(this.props.lists).map(function(t){var a=Object(r.a)(t,2),n=a[0],s=a[1],i=s.color||Object(v.randomColor)(),o={backgroundColor:k()(i,.2)},c={display:s.menuOpened||!1?"block":"none"},m=s.locked;return l.a.createElement("div",{key:n,className:"row",style:o},l.a.createElement(p.b,{to:"/list/".concat(s.id),className:"col-10"},l.a.createElement("div",{className:"listItem"},l.a.createElement("h5",null,s.name),l.a.createElement("div",{className:"listAttributes d-flex"},m?l.a.createElement(g.d,null):null,l.a.createElement("small",{className:"float-right ml-2"},s.items.length," ",l.a.createElement(g.a,{size:"16px"}))))),l.a.createElement("div",{className:"col-2 d-flex align-items-center justify-content-around menu-separator",onClick:function(t){e.props.toggleMenu(n)}},l.a.createElement("button",{type:"button",className:"btn btn-link btn-lg actionLink"},l.a.createElement(g.e,{size:"32px"}))),l.a.createElement("div",{className:"col-12",style:c},l.a.createElement("div",{className:"row justify-content-between align-items-center listMenu"},l.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){e.props.handleChangeList(n)}},l.a.createElement(g.c,null),l.a.createElement("span",null,"edit name")),l.a.createElement("button",{className:"btn btn-secondary btn-lg",onClick:function(){e.props.handleListColorChange(n)}},l.a.createElement(f.a,null),l.a.createElement("span",null,"new color")),m?null:l.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:function(){e.props.handleRemoveList(n)}},l.a.createElement(f.b,null),l.a.createElement("span",null,"remove")))))})),l.a.createElement(O,{type:"list",handleAddList:this.props.handleAddList,handleAddItem:this.props.handleAddItem}))}}]),t}(l.a.Component),S=(a(57),a(36),a(37),a(58),a(7)),A=(a(59),a(46)),x=a(19),M=a.n(x),R=a(43),T=(a(60),a(27)),B={lists:{},counter:0,isBlocked:!1},U={id:!1,name:"",items:[],color:"",locked:!1,menuOpened:!1},V={name:"",ticks:0,color:"",menuOpened:!1},z=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleAddList=a.handleAddList.bind(Object(u.a)(a)),a.handleRemoveList=a.handleRemoveList.bind(Object(u.a)(a)),a.handleAddItem=a.handleAddItem.bind(Object(u.a)(a)),a.handleRemoveItem=a.handleRemoveItem.bind(Object(u.a)(a)),a.handleChangeList=a.handleChangeList.bind(Object(u.a)(a)),a.handleChangeItem=a.handleChangeItem.bind(Object(u.a)(a)),a.handleChangeItemValue=a.handleChangeItemValue.bind(Object(u.a)(a)),a.handleListColorChange=a.handleListColorChange.bind(Object(u.a)(a)),a.toggleMenu=a.toggleMenu.bind(Object(u.a)(a)),a.toggleLockedList=a.toggleLockedList.bind(Object(u.a)(a)),a.toggleItemMenu=a.toggleItemMenu.bind(Object(u.a)(a)),a.handleTickUp=a.handleTickUp.bind(Object(u.a)(a)),a.resetAll=a.resetAll.bind(Object(u.a)(a));var n=localStorage.getItem("STORAGE");if(n){var l=JSON.parse(n);if(l.lists.length){var s={};l.lists.forEach(function(e){e.menuOpened=U.menuOpened,e.locked=e.locked||U.locked,String(e.id).length<16&&(e.id=Object(T.v1)()),e.items.length&&e.items.forEach(function(e){"object"===typeof e.ticks&&(null==e.ticks?e.ticks=0:e.ticks=e.ticks.length),e.menuOpened=V.menuOpened}),s[e.id]=e}),l.lists=s}else if(Object.entries(l.lists)){var i={};Object.entries(l.lists).map(function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return(parseInt(a)>0||0===a)&&String(n.id).length<16&&(n.id=Object(T.v1)()),i[n.id]=n}),l.lists=i}l.isBlocked=!1,a.state=l}else a.state=Object.assign({},B);return a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;window.addEventListener("blockApp",function(){e.setState({isBlocked:!0})}),window.addEventListener("unblockApp",function(){e.setState({isBlocked:!1})})}},{key:"handleAddList",value:function(e,t){if("undefined"===typeof e.name)return S.b.error("name is missing");if(e.name.length<1)return S.b.error("name is too short");var a=Object.assign({},this.state),n=Object.assign({},U);n.id=Object(T.v1)(),n.name=e.name,n.color=Object(v.randomColor)(),a.lists[n.id]=n,this.setState(a,this.upload),t.resetForm()}},{key:"handleRemoveList",value:function(e){var t=this,a=Object.assign({},this.state);M.a.fire({type:"warning",title:this.t("remove list"),text:"do you want to delete ".concat(a.lists[e].name,"?"),showCancelButton:!0}).then(function(n){"boolean"===typeof n.value&&!0===n.value?(delete a.lists[e],a.lists=a.lists.filter(function(){return!0}),t.setState(a,t.upload)):t.toggleMenu(e)})}},{key:"handleRemoveItem",value:function(e,t){var a=this,n=Object.assign({},this.state);M.a.fire({type:"warning",title:"remove item from list",text:"do you want to delete ".concat(n.lists[e].items[t].name,"?"),showCancelButton:!0}).then(function(l){"boolean"===typeof l.value&&!0===l.value?(delete n.lists[e].items[t],n.lists[e].items=n.lists[e].items.filter(function(){return!0}),a.setState(n,a.upload)):a.toggleItemMenu(e,t)})}},{key:"handleChangeList",value:function(e){var t=this,a=Object.assign({},this.state),n=String(a.lists[e].name);M.a.fire({type:"question",input:"text",inputValue:n}).then(function(l){if("string"===typeof l.value&&l.value.length>0){var s=l.value;if(null===s)return S.b.error("rename canceled");var i=String(s);if(n===i)return S.b.warn("nothing changed");if(i.length<1)return S.b.error("name can't be empty");a.lists[e].name=i,t.setState(a,function(){t.toggleMenu(e),t.upload()})}})}},{key:"handleListColorChange",value:function(e){var t=Object.assign({},this.state);t.lists[e].color=Object(v.randomColor)(),this.setState(t,this.upload)}},{key:"handleChangeItem",value:function(e,t){var a=this,n=Object.assign({},this.state),l=String(n.lists[e].items[t].name);M.a.fire({type:"question",input:"text",inputValue:l}).then(function(s){if("string"===typeof s.value&&s.value.length>0){var i=s.value;if(null===i)return S.b.error("rename canceled");var r=String(i);if(l===r)return S.b.warn("nothing changed");if(r.length<1)return S.b.error("name can't be empty");n.lists[e].items[t].name=r,a.setState(n,function(){a.toggleItemMenu(e,t),a.upload()})}})}},{key:"handleChangeItemValue",value:function(e,t){var a=this,n=Object.assign({},this.state),l=n.lists[e].items[t];M.a.fire({title:"change",input:"number",inputValue:l.ticks,inputAttributes:{min:0},buttons:!0,inputValidator:function(e){if(!e)return"invalid number"}}).then(function(s){if("undefined"!==typeof s.value){var i=parseInt(s.value);i>=0?(l.ticks=i,a.setState(n,function(){a.toggleItemMenu(e,t),a.upload()})):S.b.error("invalid number")}})}},{key:"handleAddItem",value:function(e,t){if("undefined"===typeof e.name)return S.b.error("name is missing");if(e.name.length<1)return S.b.error("name is too short");var a=Object.assign({},this.state),n=Object.assign({},V);n.name=e.name,n.color=Object(v.randomColor)();var l=e.id;a.lists[l].items=a.lists[l].items.concat([n]),this.setState(a,this.upload),t.resetForm()}},{key:"handleTickUp",value:function(e){var t=this.state;if(!0!==t.lists[e.list].locked){var a=Object.assign({},t.lists[e.list].items[e.id]);a.ticks+=1,a.color=Object(v.randomColor)(),t.lists[e.list].items[e.id]=a,this.setState(t,this.upload)}}},{key:"resetAll",value:function(){var e=this;M.a.fire({type:"warning",title:"reset all to defaults",text:"do you want to reset all to defaults?",showCancelButton:!0}).then(function(t){if("boolean"===typeof t.value&&!0===t.value){var a=Object.assign({},B);e.setState(a,function(){localStorage.removeItem("STORAGE"),e.upload()})}})}},{key:"upload",value:function(){localStorage.setItem("STORAGE",JSON.stringify(this.state))}},{key:"toggleMenu",value:function(e){var t=Object.assign({},this.state);t.lists[e].menuOpened=!t.lists[e].menuOpened,this.setState(t)}},{key:"toggleLockedList",value:function(e){var t=Object.assign({},this.state);t.lists[e].locked=!t.lists[e].locked,this.setState(t,this.upload)}},{key:"toggleItemMenu",value:function(e,t){var a=Object.assign({},this.state);a.lists[e].items[t].menuOpened=!a.lists[e].items[t].menuOpened,this.setState(a)}},{key:"render",value:function(){var e=this;return l.a.createElement(R.a,{tag:"div",className:"App",blocking:this.state.isBlocked,message:"Updating"},l.a.createElement(S.a,null),l.a.createElement("nav",{className:"navbar navbar-dark"},l.a.createElement("a",{className:"navbar-brand",href:"/"},l.a.createElement("img",{src:"/logo192.png",width:"32",height:"32",className:"d-inline-block align-top rounded-circle mr-2",alt:""}),l.a.createElement("span",{className:"brand-name mr-2"},"oerwi")),l.a.createElement("div",{className:"navbar-right"},l.a.createElement("span",{className:"badge badge-danger version-badge"},"alpha5"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"}))),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto mt-2"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{type:"button",className:"btn btn-danger btn-lg btn-block",onClick:this.resetAll},l.a.createElement(A.a,null)," reset all"))),l.a.createElement("small",null,l.a.createElement("span",{role:"img","aria-label":"developer"},"\ud83d\udcbb")," developed and maintained by ",l.a.createElement("a",{href:"https://shroomlife.de",target:"_blank",rel:"noopener noreferrer"},"shroomlife")),l.a.createElement("small",null,l.a.createElement("span",{role:"img","aria-label":"sos"},"\ud83c\udd98")," questions, feedback, hate, love? ",l.a.createElement("a",{href:"mailto:robin@shroomlife.de"},"mail me")))),l.a.createElement("div",{className:"container"},l.a.createElement(p.a,null,l.a.createElement(b.c,null,l.a.createElement(b.a,{path:"/list/:id",exact:!0,render:function(t){return l.a.createElement(I,{itemKey:t.match.params.id,item:e.state.lists[t.match.params.id],handleAddItem:e.handleAddItem,handleTickUp:e.handleTickUp,handleRemoveItem:e.handleRemoveItem,handleChangeItem:e.handleChangeItem,handleChangeItemValue:e.handleChangeItemValue,handleItemColorChange:e.handleItemColorChange,toggleItemMenu:e.toggleItemMenu,toggleLockedList:e.toggleLockedList})}}),l.a.createElement(b.a,{render:function(){return l.a.createElement(L,{lists:e.state.lists,handleAddList:e.handleAddList,handleRemoveList:e.handleRemoveList,handleChangeList:e.handleChangeList,handleListColorChange:e.handleListColorChange,toggleMenu:e.toggleMenu})}})))))}}]),t}(l.a.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(l.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");F?function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):G(e,t)}).catch(function(){})}(t,e):G(t,e)})}}()}},[[47,1,2]]]);
//# sourceMappingURL=main.49082898.chunk.4385e8c0-ce47-11e9-afcf-e1448fd0a949.js.map