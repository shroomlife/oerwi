(window.webpackJsonpoerwi=window.webpackJsonpoerwi||[]).push([[0],{46:function(e,t,a){e.exports=a(64)},51:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),s=a(21),i=a.n(s),r=a(12),o=a(13),c=a(16),m=a(14),d=a(4),u=a(17),p=(a(51),a(15)),h=a(18),b=a(5),g=a(23),f=a(10),v=a(22),E=a.n(v),k=a(20),y=a(27),N=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("div",{className:"container"},"item"===this.props.type?l.a.createElement(k.a,{onSubmit:this.props.handleAddItem,className:"row",id:"addNewItemForm"},l.a.createElement(k.b,{type:"hidden",name:"id",value:this.props.listId}),l.a.createElement(k.b,{className:"form-control form-control-lg",name:"name",placeholder:"new item"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg"},l.a.createElement(y.a,null),l.a.createElement("span",{className:"ml-2"},"add"))):l.a.createElement(k.a,{onSubmit:this.props.handleAddList,className:"row",id:"addNewListForm"},l.a.createElement(k.b,{className:"form-control form-control-lg",name:"name",placeholder:"new list"}),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},l.a.createElement(y.a,null),l.a.createElement("span",{className:"ml-2"},"add")))))}}]),t}(l.a.Component),O=a(25),w=a.n(O),C=function(){return l.a.createElement("div",{className:"row errorContainer"},l.a.createElement("img",{className:"img-fluid",src:"/404.jpg",alt:"lost"}),l.a.createElement("h1",null,"404"),l.a.createElement("h2",null,"Not Found"),l.a.createElement(p.b,{to:"/",className:"btn btn-primary btn-block"},"Go Home"))};var j=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(console.log("RENDER",this.props.item),"undefined"===typeof this.props.item)return l.a.createElement(C,null);var t=this.props.item.color||Object(f.randomColor)(),a={backgroundColor:E()(t,.2)},n=this.props.itemKey,s=this.props.item.locked,i=s?"danger":"link",r=0;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 listHeadline",style:a},l.a.createElement("h4",null,l.a.createElement(p.b,{to:"/"},l.a.createElement(b.c,{size:"28px"})),l.a.createElement("span",{className:"ml-2"},this.props.item.name)),l.a.createElement("div",{className:"actions"},l.a.createElement("button",{type:"button",className:"btn btn-".concat(i),onClick:function(){e.props.toggleLockedList(n)}},s?l.a.createElement(b.h,{size:"24px"}):l.a.createElement(b.f,{size:"24px"})))),0===this.props.item.items.length?function(e){var t=w()().format("H:m a");return l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"tutorial-card"},l.a.createElement("p",null,"hey, again",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},t))),l.a.createElement("p",null,"now it's time to add new items for ",e.name," ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},t))),l.a.createElement("p",null,"after you you added new items, you can click on them to count them up ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},t))),l.a.createElement("p",null,"happy counting! \u2665 ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},t)))))}(this.props.item):null,l.a.createElement("div",{className:"ticks col-12"},this.props.item.items.map(function(t,a){var i=t.color||Object(f.randomColor)(),o={backgroundColor:E()(i,.2)},c={display:t.menuOpened||!1?"block":"none"},m={values:s?12:10};return r+=t.ticks,l.a.createElement("div",{key:a,className:"row tickItem",style:o},l.a.createElement("div",{className:"col-".concat(m.values," tickItemButton"),onClick:function(l){console.log(l.target.parentElement),e.props.handleTickUp({item:t,id:a,list:n})}},l.a.createElement("span",{className:"itemName"},t.name),l.a.createElement("span",{className:"itemCount"},t.ticks),l.a.createElement(b.d,{className:"tick-arrow tick-arrow-up",color:"fff"}),l.a.createElement(b.b,{className:"tick-arrow tick-arrow-down",color:"fff"})),s?null:l.a.createElement("div",{className:"col-2 d-flex align-items-center justify-content-around menu-separator",onClick:function(t){e.props.toggleItemMenu(n,a)}},l.a.createElement("button",{type:"button",className:"btn btn-link btn-lg actionLink"},l.a.createElement(b.g,{size:"32px"}))),s?null:l.a.createElement("div",{className:"col-12",style:c},l.a.createElement("div",{className:"row justify-content-between align-items-center listMenu"},l.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){e.props.handleChangeItem(n,a)}},l.a.createElement(b.e,null),l.a.createElement("span",null,"edit name")),l.a.createElement("button",{className:"btn btn-secondary btn-lg",onClick:function(){e.props.handleChangeItemValue(n,a)}},l.a.createElement(b.e,null),l.a.createElement("span",null,"edit value")),l.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:function(){e.props.handleRemoveItem(n,a)}},l.a.createElement(g.b,null),l.a.createElement("span",null,"remove")))))}),r>0?l.a.createElement("div",{className:"row totals"},l.a.createElement("div",{className:"col-6 text-left totalCaption"},"Total"),l.a.createElement("div",{className:"col-4 text-right totalTicks"},r)):null),l.a.createElement(N,{type:"item",listId:n,handleAddList:this.props.handleAddList,handleAddItem:this.props.handleAddItem}))}}]),t}(l.a.Component);var I=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},0===this.props.lists.length?function(){var e=w()().format("H:m a");return l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"tutorial-card"},l.a.createElement("p",null,"hey, ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},e))),l.a.createElement("p",null,"to start with your first list, just enter the name into the field on the bottom ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},e))),l.a.createElement("p",null,"after you created your first list, you can enter it by clicking on it ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},e))),l.a.createElement("p",null,"much love, oerwi \u2665 ",l.a.createElement("span",{className:"metadata"},l.a.createElement("span",{className:"time"},e)))))}():null,l.a.createElement("div",{className:"col-12 listContainer"},this.props.lists.map(function(t,a){var n=t.color||Object(f.randomColor)(),s={backgroundColor:E()(n,.2)},i={display:t.menuOpened||!1?"block":"none"},r=t.locked;return l.a.createElement("div",{key:a,className:"row",style:s},l.a.createElement(p.b,{to:"/list/".concat(t.id),className:"col-10"},l.a.createElement("div",{className:"listItem"},l.a.createElement("h5",null,t.name),l.a.createElement("div",{className:"listAttributes d-flex"},r?l.a.createElement(b.f,null):null,l.a.createElement("small",{className:"float-right ml-2"},t.items.length," ",l.a.createElement(b.a,{size:"16px"}))))),l.a.createElement("div",{className:"col-2 d-flex align-items-center justify-content-around menu-separator",onClick:function(t){e.props.toggleMenu(a)}},l.a.createElement("button",{type:"button",className:"btn btn-link btn-lg actionLink"},l.a.createElement(b.g,{size:"32px"}))),l.a.createElement("div",{className:"col-12",style:i},l.a.createElement("div",{className:"row justify-content-between align-items-center listMenu"},l.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){e.props.handleChangeList(a)}},l.a.createElement(b.e,null),l.a.createElement("span",null,"edit name")),l.a.createElement("button",{className:"btn btn-secondary btn-lg",onClick:function(){e.props.handleListColorChange(a)}},l.a.createElement(g.a,null),l.a.createElement("span",null,"new color")),r?null:l.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:function(){e.props.handleRemoveList(a)}},l.a.createElement(g.b,null),l.a.createElement("span",null,"remove")))))})),l.a.createElement(N,{type:"list",handleAddList:this.props.handleAddList,handleAddItem:this.props.handleAddItem}))}}]),t}(l.a.Component),L=(a(56),a(34),a(35),a(57),a(8)),S=(a(58),a(45)),A=a(19),x=a.n(A),M=a(41),R=(a(59),a(42)),T={lists:[],counter:0,isBlocked:!1},B={id:!1,name:"",items:[],color:"",locked:!1,menuOpened:!1},U={name:"",ticks:0,color:"",menuOpened:!1},V=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleAddList=a.handleAddList.bind(Object(d.a)(a)),a.handleRemoveList=a.handleRemoveList.bind(Object(d.a)(a)),a.handleAddItem=a.handleAddItem.bind(Object(d.a)(a)),a.handleRemoveItem=a.handleRemoveItem.bind(Object(d.a)(a)),a.handleChangeList=a.handleChangeList.bind(Object(d.a)(a)),a.handleChangeItem=a.handleChangeItem.bind(Object(d.a)(a)),a.handleChangeItemValue=a.handleChangeItemValue.bind(Object(d.a)(a)),a.handleListColorChange=a.handleListColorChange.bind(Object(d.a)(a)),a.toggleMenu=a.toggleMenu.bind(Object(d.a)(a)),a.toggleLockedList=a.toggleLockedList.bind(Object(d.a)(a)),a.toggleItemMenu=a.toggleItemMenu.bind(Object(d.a)(a)),a.handleTickUp=a.handleTickUp.bind(Object(d.a)(a)),a.resetAll=a.resetAll.bind(Object(d.a)(a));var n=localStorage.getItem("STORAGE");if(n){var l=JSON.parse(n);l.lists.length&&l.lists.forEach(function(e){e.menuOpened=B.menuOpened,e.locked=e.locked||B.locked,e.items.length&&e.items.forEach(function(e){"object"===typeof e.ticks&&(null==e.ticks?e.ticks=0:e.ticks=e.ticks.length),e.menuOpened=U.menuOpened})}),l.isBlocked=!1,a.state=l}else a.state=Object.assign({},T);return a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;window.addEventListener("blockApp",function(){e.setState({isBlocked:!0})}),window.addEventListener("unblockApp",function(){e.setState({isBlocked:!1})})}},{key:"handleAddList",value:function(e,t){if("undefined"===typeof e.name)return L.b.error("name is missing");if(e.name.length<1)return L.b.error("name is too short");var a=Object.assign({},this.state),n=Object.assign({},B);n.id=Object(R.v1)(),n.name=e.name,n.color=Object(f.randomColor)(),a.lists=a.lists.concat([n]),this.setState(a,this.upload),t.resetForm()}},{key:"handleRemoveList",value:function(e){var t=this,a=Object.assign({},this.state);x.a.fire({type:"warning",title:this.t("remove list"),text:"do you want to delete ".concat(a.lists[e].name,"?"),showCancelButton:!0}).then(function(n){"boolean"===typeof n.value&&!0===n.value?(delete a.lists[e],a.lists=a.lists.filter(function(){return!0}),t.setState(a,t.upload)):t.toggleMenu(e)})}},{key:"handleRemoveItem",value:function(e,t){var a=this,n=Object.assign({},this.state);x.a.fire({type:"warning",title:"remove item from list",text:"do you want to delete ".concat(n.lists[e].items[t].name,"?"),showCancelButton:!0}).then(function(l){"boolean"===typeof l.value&&!0===l.value?(delete n.lists[e].items[t],n.lists[e].items=n.lists[e].items.filter(function(){return!0}),a.setState(n,a.upload)):a.toggleItemMenu(e,t)})}},{key:"handleChangeList",value:function(e){var t=this,a=Object.assign({},this.state),n=String(a.lists[e].name);x.a.fire({type:"question",input:"text",inputValue:n}).then(function(l){if("string"===typeof l.value&&l.value.length>0){var s=l.value;if(null===s)return L.b.error("rename canceled");var i=String(s);if(n===i)return L.b.warn("nothing changed");if(i.length<1)return L.b.error("name can't be empty");a.lists[e].name=i,t.setState(a,function(){t.toggleMenu(e),t.upload()})}})}},{key:"handleListColorChange",value:function(e){var t=Object.assign({},this.state);t.lists[e].color=Object(f.randomColor)(),this.setState(t,this.upload)}},{key:"handleChangeItem",value:function(e,t){var a=this,n=Object.assign({},this.state),l=String(n.lists[e].items[t].name);x.a.fire({type:"question",input:"text",inputValue:l}).then(function(s){if("string"===typeof s.value&&s.value.length>0){var i=s.value;if(null===i)return L.b.error("rename canceled");var r=String(i);if(l===r)return L.b.warn("nothing changed");if(r.length<1)return L.b.error("name can't be empty");n.lists[e].items[t].name=r,a.setState(n,function(){a.toggleItemMenu(e,t),a.upload()})}})}},{key:"handleChangeItemValue",value:function(e,t){var a=this,n=Object.assign({},this.state),l=n.lists[e].items[t];x.a.fire({title:"change",input:"number",inputValue:l.ticks,inputAttributes:{min:0},buttons:!0,inputValidator:function(e){if(!e)return"invalid number"}}).then(function(s){if("undefined"!==typeof s.value){var i=parseInt(s.value);i>=0?(l.ticks=i,a.setState(n,function(){a.toggleItemMenu(e,t),a.upload()})):L.b.error("invalid number")}})}},{key:"handleAddItem",value:function(e,t){if("undefined"===typeof e.name)return L.b.error("name is missing");if(e.name.length<1)return L.b.error("name is too short");var a=Object.assign({},this.state),n=Object.assign({},U);n.name=e.name,n.color=Object(f.randomColor)();var l=parseInt(e.id);a.lists[l].items=a.lists[l].items.concat([n]),this.setState(a,this.upload),t.resetForm()}},{key:"handleTickUp",value:function(e){var t=this.state;if(!0!==t.lists[e.list].locked){var a=Object.assign({},t.lists[e.list].items[e.id]);a.ticks+=1,a.color=Object(f.randomColor)(),t.lists[e.list].items[e.id]=a,this.setState(t,this.upload)}}},{key:"resetAll",value:function(){var e=this;x.a.fire({type:"warning",title:"reset all to defaults",text:"do you want to reset all to defaults?",showCancelButton:!0}).then(function(t){if("boolean"===typeof t.value&&!0===t.value){var a=Object.assign({},T);e.setState(a,function(){localStorage.removeItem("STORAGE"),e.upload()})}})}},{key:"upload",value:function(){localStorage.setItem("STORAGE",JSON.stringify(this.state))}},{key:"toggleMenu",value:function(e){var t=Object.assign({},this.state);t.lists[e].menuOpened=!t.lists[e].menuOpened,this.setState(t)}},{key:"toggleLockedList",value:function(e){var t=Object.assign({},this.state);t.lists[e].locked=!t.lists[e].locked,this.setState(t,this.upload)}},{key:"toggleItemMenu",value:function(e,t){var a=Object.assign({},this.state);console.log(a),a.lists[e].items[t].menuOpened=!a.lists[e].items[t].menuOpened,this.setState(a)}},{key:"render",value:function(){var e=this;return l.a.createElement(M.a,{tag:"div",className:"App",blocking:this.state.isBlocked,message:"Updating"},l.a.createElement(L.a,null),l.a.createElement("nav",{className:"navbar navbar-dark"},l.a.createElement("a",{className:"navbar-brand",href:"/"},l.a.createElement("img",{src:"/logo192.png",width:"32",height:"32",className:"d-inline-block align-top rounded-circle mr-2",alt:""}),l.a.createElement("span",{className:"brand-name mr-2"},"oerwi")),l.a.createElement("div",{className:"navbar-right"},l.a.createElement("span",{className:"badge badge-danger version-badge"},"alpha5"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"}))),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto mt-2"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{type:"button",className:"btn btn-danger btn-lg btn-block",onClick:this.resetAll},l.a.createElement(S.a,null)," reset all"))),l.a.createElement("small",null,l.a.createElement("span",{role:"img","aria-label":"developer"},"\ud83d\udcbb")," developed and maintained by ",l.a.createElement("a",{href:"https://shroomlife.de",target:"_blank",rel:"noopener noreferrer"},"shroomlife")),l.a.createElement("small",null,l.a.createElement("span",{role:"img","aria-label":"sos"},"\ud83c\udd98")," questions, feedback, hate, love? ",l.a.createElement("a",{href:"mailto:robin@shroomlife.de"},"mail me")))),l.a.createElement("div",{className:"container"},l.a.createElement(p.a,null,l.a.createElement(h.c,null,l.a.createElement(h.a,{path:"/list/:id",exact:!0,render:function(t){return l.a.createElement(j,{itemKey:t.match.params.id,item:e.state.lists.find(function(e){return String(e.id)===String(t.match.params.id)}),handleAddItem:e.handleAddItem,handleTickUp:e.handleTickUp,handleRemoveItem:e.handleRemoveItem,handleChangeItem:e.handleChangeItem,handleChangeItemValue:e.handleChangeItemValue,handleItemColorChange:e.handleItemColorChange,toggleItemMenu:e.toggleItemMenu,toggleLockedList:e.toggleLockedList})}}),l.a.createElement(h.a,{render:function(){return l.a.createElement(I,{lists:e.state.lists,handleAddList:e.handleAddList,handleRemoveList:e.handleRemoveList,handleChangeList:e.handleChangeList,handleListColorChange:e.handleListColorChange,toggleMenu:e.toggleMenu})}})))))}}]),t}(l.a.Component),z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(l.a.createElement(V,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");z?function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):F(e,t)}).catch(function(){})}(t,e):F(t,e)})}}()}},[[46,1,2]]]);
//# sourceMappingURL=main.d8057cff.chunk.63534440-c8e8-11e9-83b4-3579e54da1dc.js.map